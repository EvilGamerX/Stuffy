@using Blazor.Diagrams.Components.Renderers
@using Stuffy.Website.Client.Models;

<div id="@Node.Data.Id" class="circle" style="">
    <p>@Node.Data.Name</p>
    @foreach (var port in Node.Ports)
    {
        <!-- Default ports -->
        <PortRenderer Port="port" />
    }
</div>

<style>
    @css  {
        background: @Node.Data.ColourCode;
    }

    .circle {
        outline-color: black; 
        outline-style: solid; 
        width:100px; 
        height:100px; 
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-content: center;
        flex-direction: column;
        align-items: center;
    }

    p {
    color: white;
    font-size: 20px;
    text-align: center;
    vertical-align: central;
    text-shadow:
        0.05em 0 black,
        0 0.05em black,
        -0.05em 0 black,
        0 -0.05em black,
        -0.05em -0.05em black,
        -0.05em 0.05em black,
        0.05em -0.05em black,
        0.05em 0.05em black;
    }

</style>

@code {
    //Thanks to - https://stackoverflow.com/questions/71099593/blazor-set-background-color-with-parameter
    private string css => $"#{Node.Data.Id}";
    [Parameter] public NodeNodeModel Node { get; set; }
}
